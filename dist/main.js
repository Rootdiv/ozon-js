(()=>{"use strict";const t=()=>fetch("https://ozon-js-default-rtdb.firebaseio.com/goods.json").then((t=>t.json())),e=t=>{const e=document.querySelector(".goods");e.textContent="",t.forEach((({title:t,price:c,sale:n,img:s})=>{e.insertAdjacentHTML("beforeend",`\n      <div class="col-12 col-md-6 col-lg-4 col-xl-3">\n        <div class="card">\n          ${n?'<div class="card-sale">&#128293;Hot Sale&#128293;</div>':""}\n          <div class="card-img-wrapper">\n            <span class="card-img-top"\n              style="background-image: url('${s}')"></span>\n          </div>\n          <div class="card-body justify-content-between">\n            <div class="card-price">${c} &#8381;</div>\n            <h5 class="card-title">${t}</h5>\n            <button class="btn btn-primary">В корзину</button>\n          </div>\n        </div>\n      </div>\n    `)}))};(()=>{const t=document.querySelector(".cart");document.addEventListener("click",(e=>{const c=e.target;c.closest("#cart")?t.style.display="flex":(c.closest(".cart-close")||c.matches(".cart")&&!c.closest(".cart-body"))&&t.removeAttribute("style")}))})(),t().then((t=>e(t))),document.querySelector(".search-wrapper_input").addEventListener("input",(c=>{const n=c.target.value;t().then((t=>e(((t,e)=>t.filter((({title:t})=>t.toLowerCase().includes(e.toLowerCase()))))(t,n))))})),(()=>{const c=document.querySelector(".catalog");document.addEventListener("click",(n=>{const s=n.target;if(s.closest(".catalog-button")){if(c.style.display="block",s.matches("li")){const n=s.textContent;t().then((t=>{return e((c=n,t.filter((({category:t})=>t===c))));var c})),c.removeAttribute("style")}}else s.closest(".catalog-button")||c.removeAttribute("style")}))})(),document.getElementById("min").addEventListener("input",(c=>{const n=c.target.value;t().then((t=>e(((t,e)=>t.filter((({price:t})=>String(t).includes(e))))(t,n))))}))})();